<body>
<nav class="navbar navbar-expand-sm bg-light">
  <ul class="navbar-nav">
    <li class="nav-item">
      <button (click)="translate()" [ngStyle]="{'background-image':this.getIcon(this.configurationService.LANGUAGE_VALUE==='FR'? 'france':'uk')}"></button>
    </li>
  </ul>
</nav>
<h1> Page de connexion </h1>
<mat-grid-list cols="4" rowHeight="1:1">
  <mat-grid-tile>
    <mat-card>
      <button mat-button class="cardButton" id="addUser" (click)="clickAddUser()"> <img src="assets/images/AddUser.png" class="imgCard" alt=""></button>
      <mat-card-content>
        <p class="textCard">Ajouter un utilisateur</p>
      </mat-card-content>
    </mat-card>
  </mat-grid-tile>
</mat-grid-list>
<div [hidden]="submitted" *ngIf="this.addUserBool">
  <form (ngSubmit)="onSubmit(newUser)" #newUser="ngForm">
    <label> nom de l'utilisateur </label>
    <input id="nameUser" type="text" class="form-control" placeholder="entrer votre nom" name="name" ngModel required>
    <br>
    <label> votre image</label>
    <input type="file" accept="image/*" (change)="onFileSelected($event)">
    <br>
    <button mat-button mat-raised-button type="submit" [disabled]="newUser.invalid">Valider</button>
  </form>
</div>
<div>
  <mat-grid-list cols="4" rowHeight="1:1">
    <mat-grid-tile *ngFor="let user of usersList; let index = index">
      <mat-card class="card">
        <button class="cardButton" mat-button (click)="userSelected(user)" [routerLink]="'/keyboard'"><img alt="{{user.name}}" class="imgCard" src="{{userImage(user)}}"></button>
        <mat-card-content>
          <p class="textCard">
            {{user.name}}
          </p>
          <button class="deleteButton" *ngIf="user.id != 1" mat-raised-button color="primary" (click)="this.openDialogChange(user.id, index)"> Modifier <img src='/assets/icons/settings.svg' alt="delete" height="5%" width="5%"></button>
          <button class="deleteButton" *ngIf="user.id != 1" mat-raised-button color="warn" (click)="this.openDialogDelete(user.id)"> Supprimer <img src='/assets/icons/delete.svg' alt="delete" height="5%" width="5%"></button>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
</body>
